kind: ConfigMap
metadata:
  name: logstash-config
  namespace: elk
apiVersion: v1
data:
  logstash.yml: |-
    # https://github.com/elastic/logstash-docker/blob/master/build/logstash/config/logstash-full.yml
    http.host: "0.0.0.0"
    xpack.monitoring.elasticsearch.url: http://elasticsearch:9200

  logstash.conf: |-
    input {
    	beats {
    		port => 5044
    	}
    }

    output {
    	elasticsearch {
    		hosts => "elasticsearch:9200"
    	}
    }
  # log4j2.properties: |-
  #   status = error
  #   name = LogstashPropertiesConfig
  #
  #   appender.console.type = Console
  #   appender.console.name = plain_console
  #   appender.console.layout.type = PatternLayout
  #   appender.console.layout.pattern = [%d{ISO8601}][%-5p][%-25c] %m%n
  #
  #   appender.json_console.type = Console
  #   appender.json_console.name = json_console
  #   appender.json_console.layout.type = JSONLayout
  #   appender.json_console.layout.compact = true
  #   appender.json_console.layout.eventEol = true
  #
  #   rootLogger.level = ${sys:ls.log.level}
  #   rootLogger.appenderRef.console.ref = ${sys:ls.log.format}_console
  #
  # pipelines.yml: |-
  #   # This file is where you define your pipelines. You can define multiple.
  #   # For more information on multiple pipelines, see the documentation:
  #   #   https://www.elastic.co/guide/en/logstash/current/multiple-pipelines.html
  #
  #   - pipeline.id: main
  #     path.config: "/usr/share/logstash/pipeline"
